!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.sal=t():e.sal=t()}(this,(function(){return(()=>{"use strict";var e={d:(t,n)=>{for(var r in n)e.o(n,r)&&!e.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:n[r]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)},t={};function n(e,t){var n,r=Object.keys(e);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(e),t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)),r}function r(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach((function(t){var n,o;n=e,o=r[t=t],t in n?Object.defineProperty(n,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):n[t]=o})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function o(e,t){e=new CustomEvent(e,{bubbles:!0,detail:t}),t.target.dispatchEvent(e)}function a(){b(),p()}function s(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};p(),Array.from(document.querySelectorAll(l.selector)).forEach(f),d(e),y()}function i(){var e=v();c.push(e)}e.d(t,{default:()=>O});var l={root:null,rootMargin:"0% 50%",threshold:.5,animateClassName:"sal-animate",disabledClassName:"sal-disabled",enterEventName:"sal:in",exitEventName:"sal:out",selector:"[data-sal]",once:!0,disabled:!1},c=[],u=null,d=function(e){e&&e!==l&&(l=r(r({},l),e))},f=function(e){e.classList.remove(l.animateClassName)},b=function(){document.body.classList.add(l.disabledClassName)},p=function(){u.disconnect(),u=null},m=function(e,t){e.forEach((function(e){var n=e.target,r=void 0!==n.dataset.salRepeat,a=void 0!==n.dataset.salOnce;r=r||!(a||l.once);e.intersectionRatio>=l.threshold?((a=e).target.classList.add(l.animateClassName),o(l.enterEventName,a),r||t.unobserve(n)):r&&(f((a=e).target),o(l.exitEventName,a))}))},v=function(){var e=[].filter.call(document.querySelectorAll(l.selector),(function(e){return l.animateClassName,!e.classList.contains(l.animateClassName)}));return e.forEach((function(e){return u.observe(e)})),e},y=function(){document.body.classList.remove(l.disabledClassName),u=new IntersectionObserver(m,{root:l.root,rootMargin:l.rootMargin,threshold:l.threshold}),c=v()};const O=function(){if(d(0<arguments.length&&void 0!==arguments[0]?arguments[0]:l),"undefined"==typeof window)return console.warn("Sal was not initialised! Probably it is used in SSR."),{elements:c,disable:a,enable:y,reset:s,update:i};if(!window.IntersectionObserver)throw b(),Error("Your browser does not support IntersectionObserver!\nGet a polyfill from here:\nhttps://github.com/w3c/IntersectionObserver/tree/master/polyfill");return(l.disabled||"function"==typeof l.disabled&&l.disabled()?b:y)(),{elements:c,disable:a,enable:y,reset:s,update:i}};return t.default})()}));